INFO b''
INFO b''
ERROR Internal Server Error: /books/6/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/books/views.py", line 76, in detail
    return render(request,'books/detail.html',context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 99, in render_to_string
    return template.render(context, request)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 74, in render
    return self.template.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 209, in render
    return self._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 113, in render
    compiled_parent = self.get_parent(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 110, in get_parent
    return context.template.engine.get_template(parent)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/engine.py", line 167, in get_template
    template, origin = self.find_template(template_name, dirs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/engine.py", line 141, in find_template
    source, display_name = loader(name, dirs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loaders/base.py", line 13, in __call__
    return self.load_template(template_name, template_dirs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loaders/base.py", line 23, in load_template
    template = Template(source, origin, template_name, self.engine)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 190, in __init__
    self.nodelist = engine.compile_string(template_string, origin)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/engine.py", line 261, in compile_string
    return parser.parse()
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 341, in parse
    compiled_result = compile_func(self, token)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 184, in do_block
    nodelist = parser.parse(('endblock',))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 315, in parse
    self.empty_variable(token)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 386, in empty_variable
    raise self.error(token, "Empty variable tag")
django.template.base.TemplateSyntaxError: Empty variable tag
ERROR Internal Server Error: /books/6/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/books/views.py", line 76, in detail
    return render(request,'books/detail.html',context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 99, in render_to_string
    return template.render(context, request)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 74, in render
    return self.template.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 209, in render
    return self._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 113, in render
    compiled_parent = self.get_parent(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 110, in get_parent
    return context.template.engine.get_template(parent)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/engine.py", line 167, in get_template
    template, origin = self.find_template(template_name, dirs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/engine.py", line 141, in find_template
    source, display_name = loader(name, dirs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loaders/base.py", line 13, in __call__
    return self.load_template(template_name, template_dirs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loaders/base.py", line 23, in load_template
    template = Template(source, origin, template_name, self.engine)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 190, in __init__
    self.nodelist = engine.compile_string(template_string, origin)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/engine.py", line 261, in compile_string
    return parser.parse()
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 341, in parse
    compiled_result = compile_func(self, token)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 184, in do_block
    nodelist = parser.parse(('endblock',))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 315, in parse
    self.empty_variable(token)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 386, in empty_variable
    raise self.error(token, "Empty variable tag")
django.template.base.TemplateSyntaxError: Empty variable tag
INFO b''
INFO b''
INFO b''
INFO b''
INFO b''
INFO b''
INFO b''
INFO b''
ERROR Internal Server Error: /books/5/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 565, in reverse
    extra, resolver = resolver.namespace_dict[ns]
KeyError: 'bookstore.comment'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 501, in render
    current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 575, in reverse
    key)
django.core.urlresolvers.NoReverseMatch: 'bookstore.comment' is not a registered namespace

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/books/views.py", line 76, in detail
    return render(request,'books/detail.html',context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 99, in render_to_string
    return template.render(context, request)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 74, in render
    return self.template.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 209, in render
    return self._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 135, in render
    return compiled_parent._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 65, in render
    result = block.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 507, in render
    six.reraise(*exc_info)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 659, in reraise
    raise value
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 493, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'comment' with arguments '()' and keyword arguments '{}' not found. 1 pattern(s) tried: ['comment/(?P<book_id>\\d+)/$']
ERROR Internal Server Error: /books/5/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 565, in reverse
    extra, resolver = resolver.namespace_dict[ns]
KeyError: 'bookstore.comment'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 501, in render
    current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 575, in reverse
    key)
django.core.urlresolvers.NoReverseMatch: 'bookstore.comment' is not a registered namespace

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/books/views.py", line 76, in detail
    return render(request,'books/detail.html',context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 99, in render_to_string
    return template.render(context, request)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 74, in render
    return self.template.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 209, in render
    return self._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 135, in render
    return compiled_parent._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 65, in render
    result = block.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 507, in render
    six.reraise(*exc_info)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 659, in reraise
    raise value
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 493, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'comment' with arguments '()' and keyword arguments '{}' not found. 1 pattern(s) tried: ['comment/(?P<book_id>\\d+)/$']
ERROR Internal Server Error: /books/6/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 501, in render
    current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'bookstore.comment' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/books/views.py", line 76, in detail
    return render(request,'books/detail.html',context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 99, in render_to_string
    return template.render(context, request)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 74, in render
    return self.template.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 209, in render
    return self._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 135, in render
    return compiled_parent._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 65, in render
    result = block.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 507, in render
    six.reraise(*exc_info)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 659, in reraise
    raise value
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 493, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'comment' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []
ERROR Internal Server Error: /books/6/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 501, in render
    current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'bookstore.comment' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/books/views.py", line 76, in detail
    return render(request,'books/detail.html',context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 99, in render_to_string
    return template.render(context, request)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 74, in render
    return self.template.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 209, in render
    return self._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 135, in render
    return compiled_parent._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 65, in render
    result = block.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 507, in render
    six.reraise(*exc_info)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 659, in reraise
    raise value
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 493, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'comment' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []
ERROR Internal Server Error: /books/6/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 501, in render
    current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'bookstore.comment' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/books/views.py", line 76, in detail
    return render(request,'books/detail.html',context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 99, in render_to_string
    return template.render(context, request)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 74, in render
    return self.template.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 209, in render
    return self._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 135, in render
    return compiled_parent._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 65, in render
    result = block.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 507, in render
    six.reraise(*exc_info)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 659, in reraise
    raise value
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 493, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'comment' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []
ERROR Internal Server Error: /books/6/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 501, in render
    current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'bookstore.comment' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/books/views.py", line 76, in detail
    return render(request,'books/detail.html',context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 99, in render_to_string
    return template.render(context, request)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 74, in render
    return self.template.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 209, in render
    return self._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 135, in render
    return compiled_parent._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 65, in render
    result = block.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 507, in render
    six.reraise(*exc_info)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 659, in reraise
    raise value
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 493, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'comment' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []
INFO b''
INFO b''
INFO b''
INFO b''
ERROR Internal Server Error: /comment/5/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 70, in new_comment
    book = Books.objects.get_books_by_id(book_id)
AttributeError: 'BooksManager' object has no attribute 'get_books_by_id'
ERROR Internal Server Error: /comment/5/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 70, in new_comment
    book = Books.objects.get_books_by_id(book_id)
AttributeError: 'BooksManager' object has no attribute 'get_books_by_id'
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 93, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 93, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 93, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 93, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
INFO b''
INFO b''
WARNING Not Found: /favicon.ico
WARNING Not Found: /favicon.ico
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 94, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 94, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
TypeError: int() argument must be a string, a bytes-like object or a number, not 'NoneType'
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
TypeError: int() argument must be a string, a bytes-like object or a number, not 'NoneType'
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
TypeError: submit() missing 1 required positional argument: 'book_id'
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
TypeError: submit() missing 1 required positional argument: 'book_id'
INFO b''
INFO b''
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
TypeError: submit() missing 1 required positional argument: 'book_id'
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
TypeError: submit() missing 1 required positional argument: 'book_id'
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
TypeError: submit() missing 1 required positional argument: 'book_id'
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
TypeError: submit() missing 1 required positional argument: 'book_id'
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/7/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 565, in reverse
    extra, resolver = resolver.namespace_dict[ns]
KeyError: 'bookstore.comment'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 501, in render
    current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 575, in reverse
    key)
django.core.urlresolvers.NoReverseMatch: 'bookstore.comment' is not a registered namespace

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 77, in new_comment
    'user': user,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 99, in render_to_string
    return template.render(context, request)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 74, in render
    return self.template.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 209, in render
    return self._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 135, in render
    return compiled_parent._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 65, in render
    result = block.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 507, in render
    six.reraise(*exc_info)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 659, in reraise
    raise value
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 493, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'submit' with arguments '('7',)' and keyword arguments '{}' not found. 1 pattern(s) tried: ['comment/submit/$']
ERROR Internal Server Error: /comment/7/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 565, in reverse
    extra, resolver = resolver.namespace_dict[ns]
KeyError: 'bookstore.comment'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 501, in render
    current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 575, in reverse
    key)
django.core.urlresolvers.NoReverseMatch: 'bookstore.comment' is not a registered namespace

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 77, in new_comment
    'user': user,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 99, in render_to_string
    return template.render(context, request)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 74, in render
    return self.template.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 209, in render
    return self._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 135, in render
    return compiled_parent._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 65, in render
    result = block.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 507, in render
    six.reraise(*exc_info)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 659, in reraise
    raise value
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 493, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'submit' with arguments '('7',)' and keyword arguments '{}' not found. 1 pattern(s) tried: ['comment/submit/$']
ERROR Internal Server Error: /comment/7/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 565, in reverse
    extra, resolver = resolver.namespace_dict[ns]
KeyError: 'bookstore.comment'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 501, in render
    current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 575, in reverse
    key)
django.core.urlresolvers.NoReverseMatch: 'bookstore.comment' is not a registered namespace

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 77, in new_comment
    'user': user,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 99, in render_to_string
    return template.render(context, request)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 74, in render
    return self.template.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 209, in render
    return self._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 135, in render
    return compiled_parent._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 65, in render
    result = block.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 507, in render
    six.reraise(*exc_info)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 659, in reraise
    raise value
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 493, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'submit' with arguments '('7',)' and keyword arguments '{}' not found. 1 pattern(s) tried: ['comment/submit/$']
ERROR Internal Server Error: /comment/7/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 565, in reverse
    extra, resolver = resolver.namespace_dict[ns]
KeyError: 'bookstore.comment'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 501, in render
    current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 575, in reverse
    key)
django.core.urlresolvers.NoReverseMatch: 'bookstore.comment' is not a registered namespace

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 77, in new_comment
    'user': user,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 99, in render_to_string
    return template.render(context, request)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 74, in render
    return self.template.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 209, in render
    return self._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 135, in render
    return compiled_parent._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 65, in render
    result = block.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 507, in render
    six.reraise(*exc_info)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 659, in reraise
    raise value
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 493, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'submit' with arguments '('7',)' and keyword arguments '{}' not found. 1 pattern(s) tried: ['comment/submit/$']
INFO b''
INFO b''
ERROR Internal Server Error: /comment/5/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 565, in reverse
    extra, resolver = resolver.namespace_dict[ns]
KeyError: 'bookstore.comment'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 501, in render
    current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 575, in reverse
    key)
django.core.urlresolvers.NoReverseMatch: 'bookstore.comment' is not a registered namespace

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 77, in new_comment
    'user': user,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 99, in render_to_string
    return template.render(context, request)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 74, in render
    return self.template.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 209, in render
    return self._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 135, in render
    return compiled_parent._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 65, in render
    result = block.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 507, in render
    six.reraise(*exc_info)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 659, in reraise
    raise value
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 493, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'submit' with arguments '('5',)' and keyword arguments '{}' not found. 1 pattern(s) tried: ['comment/submit/$']
ERROR Internal Server Error: /comment/5/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 565, in reverse
    extra, resolver = resolver.namespace_dict[ns]
KeyError: 'bookstore.comment'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 501, in render
    current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 575, in reverse
    key)
django.core.urlresolvers.NoReverseMatch: 'bookstore.comment' is not a registered namespace

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 77, in new_comment
    'user': user,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 99, in render_to_string
    return template.render(context, request)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 74, in render
    return self.template.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 209, in render
    return self._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 135, in render
    return compiled_parent._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 65, in render
    result = block.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 507, in render
    six.reraise(*exc_info)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 659, in reraise
    raise value
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 493, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'submit' with arguments '('5',)' and keyword arguments '{}' not found. 1 pattern(s) tried: ['comment/submit/$']
ERROR Internal Server Error: /comment/5/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 565, in reverse
    extra, resolver = resolver.namespace_dict[ns]
KeyError: 'bookstore.comment'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 501, in render
    current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 575, in reverse
    key)
django.core.urlresolvers.NoReverseMatch: 'bookstore.comment' is not a registered namespace

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 77, in new_comment
    'user': user,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 99, in render_to_string
    return template.render(context, request)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 74, in render
    return self.template.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 209, in render
    return self._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 135, in render
    return compiled_parent._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 65, in render
    result = block.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 507, in render
    six.reraise(*exc_info)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 659, in reraise
    raise value
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 493, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'submit' with arguments '()' and keyword arguments '{'book_id': 5}' not found. 1 pattern(s) tried: ['comment/submit/$']
ERROR Internal Server Error: /comment/5/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 565, in reverse
    extra, resolver = resolver.namespace_dict[ns]
KeyError: 'bookstore.comment'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 501, in render
    current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 575, in reverse
    key)
django.core.urlresolvers.NoReverseMatch: 'bookstore.comment' is not a registered namespace

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 77, in new_comment
    'user': user,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 99, in render_to_string
    return template.render(context, request)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 74, in render
    return self.template.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 209, in render
    return self._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 135, in render
    return compiled_parent._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 65, in render
    result = block.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 507, in render
    six.reraise(*exc_info)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 659, in reraise
    raise value
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 493, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'submit' with arguments '()' and keyword arguments '{'book_id': 5}' not found. 1 pattern(s) tried: ['comment/submit/$']
ERROR Internal Server Error: /comment/5/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 565, in reverse
    extra, resolver = resolver.namespace_dict[ns]
KeyError: 'bookstore.comment'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 501, in render
    current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 575, in reverse
    key)
django.core.urlresolvers.NoReverseMatch: 'bookstore.comment' is not a registered namespace

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 77, in new_comment
    'user': user,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 99, in render_to_string
    return template.render(context, request)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 74, in render
    return self.template.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 209, in render
    return self._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 135, in render
    return compiled_parent._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 65, in render
    result = block.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 507, in render
    six.reraise(*exc_info)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 659, in reraise
    raise value
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 493, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'submit' with arguments '()' and keyword arguments '{'book_id': '{{ book.id }}'}' not found. 1 pattern(s) tried: ['comment/submit/$']
ERROR Internal Server Error: /comment/5/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 565, in reverse
    extra, resolver = resolver.namespace_dict[ns]
KeyError: 'bookstore.comment'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 501, in render
    current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 575, in reverse
    key)
django.core.urlresolvers.NoReverseMatch: 'bookstore.comment' is not a registered namespace

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 77, in new_comment
    'user': user,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 99, in render_to_string
    return template.render(context, request)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 74, in render
    return self.template.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 209, in render
    return self._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 135, in render
    return compiled_parent._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 65, in render
    result = block.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 507, in render
    six.reraise(*exc_info)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 659, in reraise
    raise value
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 493, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'submit' with arguments '()' and keyword arguments '{'book_id': '{{ book.id }}'}' not found. 1 pattern(s) tried: ['comment/submit/$']
ERROR Internal Server Error: /comment/5/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 77, in new_comment
    'user': user,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 98, in render_to_string
    template = get_template(template_name, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 35, in get_template
    return engine.get_template(template_name, dirs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 30, in get_template
    return Template(self.engine.get_template(template_name, dirs))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/engine.py", line 167, in get_template
    template, origin = self.find_template(template_name, dirs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/engine.py", line 141, in find_template
    source, display_name = loader(name, dirs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loaders/base.py", line 13, in __call__
    return self.load_template(template_name, template_dirs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loaders/base.py", line 23, in load_template
    template = Template(source, origin, template_name, self.engine)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 190, in __init__
    self.nodelist = engine.compile_string(template_string, origin)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/engine.py", line 261, in compile_string
    return parser.parse()
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 341, in parse
    compiled_result = compile_func(self, token)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 210, in do_extends
    nodelist = parser.parse()
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 341, in parse
    compiled_result = compile_func(self, token)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 184, in do_block
    nodelist = parser.parse(('endblock',))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 341, in parse
    compiled_result = compile_func(self, token)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 1456, in url
    kwargs[name] = parser.compile_filter(value)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 423, in compile_filter
    return FilterExpression(token, self)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 639, in __init__
    "from '%s'" % (token[upto:], token))
django.template.base.TemplateSyntaxError: Could not parse the remainder: '{{' from '{{'
ERROR Internal Server Error: /comment/5/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 77, in new_comment
    'user': user,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 98, in render_to_string
    template = get_template(template_name, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 35, in get_template
    return engine.get_template(template_name, dirs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 30, in get_template
    return Template(self.engine.get_template(template_name, dirs))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/engine.py", line 167, in get_template
    template, origin = self.find_template(template_name, dirs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/engine.py", line 141, in find_template
    source, display_name = loader(name, dirs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loaders/base.py", line 13, in __call__
    return self.load_template(template_name, template_dirs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loaders/base.py", line 23, in load_template
    template = Template(source, origin, template_name, self.engine)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 190, in __init__
    self.nodelist = engine.compile_string(template_string, origin)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/engine.py", line 261, in compile_string
    return parser.parse()
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 341, in parse
    compiled_result = compile_func(self, token)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 210, in do_extends
    nodelist = parser.parse()
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 341, in parse
    compiled_result = compile_func(self, token)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 184, in do_block
    nodelist = parser.parse(('endblock',))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 341, in parse
    compiled_result = compile_func(self, token)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 1456, in url
    kwargs[name] = parser.compile_filter(value)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 423, in compile_filter
    return FilterExpression(token, self)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 639, in __init__
    "from '%s'" % (token[upto:], token))
django.template.base.TemplateSyntaxError: Could not parse the remainder: '{{' from '{{'
ERROR Internal Server Error: /comment/7/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 77, in new_comment
    'user': user,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 98, in render_to_string
    template = get_template(template_name, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 35, in get_template
    return engine.get_template(template_name, dirs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 30, in get_template
    return Template(self.engine.get_template(template_name, dirs))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/engine.py", line 167, in get_template
    template, origin = self.find_template(template_name, dirs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/engine.py", line 141, in find_template
    source, display_name = loader(name, dirs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loaders/base.py", line 13, in __call__
    return self.load_template(template_name, template_dirs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loaders/base.py", line 23, in load_template
    template = Template(source, origin, template_name, self.engine)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 190, in __init__
    self.nodelist = engine.compile_string(template_string, origin)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/engine.py", line 261, in compile_string
    return parser.parse()
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 341, in parse
    compiled_result = compile_func(self, token)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 210, in do_extends
    nodelist = parser.parse()
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 341, in parse
    compiled_result = compile_func(self, token)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 184, in do_block
    nodelist = parser.parse(('endblock',))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 341, in parse
    compiled_result = compile_func(self, token)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 1456, in url
    kwargs[name] = parser.compile_filter(value)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 423, in compile_filter
    return FilterExpression(token, self)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 639, in __init__
    "from '%s'" % (token[upto:], token))
django.template.base.TemplateSyntaxError: Could not parse the remainder: '{{' from '{{'
ERROR Internal Server Error: /comment/7/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 77, in new_comment
    'user': user,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 98, in render_to_string
    template = get_template(template_name, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 35, in get_template
    return engine.get_template(template_name, dirs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 30, in get_template
    return Template(self.engine.get_template(template_name, dirs))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/engine.py", line 167, in get_template
    template, origin = self.find_template(template_name, dirs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/engine.py", line 141, in find_template
    source, display_name = loader(name, dirs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loaders/base.py", line 13, in __call__
    return self.load_template(template_name, template_dirs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loaders/base.py", line 23, in load_template
    template = Template(source, origin, template_name, self.engine)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 190, in __init__
    self.nodelist = engine.compile_string(template_string, origin)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/engine.py", line 261, in compile_string
    return parser.parse()
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 341, in parse
    compiled_result = compile_func(self, token)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 210, in do_extends
    nodelist = parser.parse()
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 341, in parse
    compiled_result = compile_func(self, token)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 184, in do_block
    nodelist = parser.parse(('endblock',))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 341, in parse
    compiled_result = compile_func(self, token)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 1456, in url
    kwargs[name] = parser.compile_filter(value)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 423, in compile_filter
    return FilterExpression(token, self)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 639, in __init__
    "from '%s'" % (token[upto:], token))
django.template.base.TemplateSyntaxError: Could not parse the remainder: '{{' from '{{'
ERROR Internal Server Error: /comment/5/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 565, in reverse
    extra, resolver = resolver.namespace_dict[ns]
KeyError: 'bookstore.comment'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 501, in render
    current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 575, in reverse
    key)
django.core.urlresolvers.NoReverseMatch: 'bookstore.comment' is not a registered namespace

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 77, in new_comment
    'user': user,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 99, in render_to_string
    return template.render(context, request)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 74, in render
    return self.template.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 209, in render
    return self._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 135, in render
    return compiled_parent._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 65, in render
    result = block.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 507, in render
    six.reraise(*exc_info)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 659, in reraise
    raise value
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 493, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'submit' with arguments '()' and keyword arguments '{'book_id': '{{ book.id }}'}' not found. 1 pattern(s) tried: ['comment/submit/$']
ERROR Internal Server Error: /comment/5/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 565, in reverse
    extra, resolver = resolver.namespace_dict[ns]
KeyError: 'bookstore.comment'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 501, in render
    current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 575, in reverse
    key)
django.core.urlresolvers.NoReverseMatch: 'bookstore.comment' is not a registered namespace

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 77, in new_comment
    'user': user,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 99, in render_to_string
    return template.render(context, request)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 74, in render
    return self.template.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 209, in render
    return self._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 135, in render
    return compiled_parent._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 65, in render
    result = block.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 507, in render
    six.reraise(*exc_info)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 659, in reraise
    raise value
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 493, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'submit' with arguments '()' and keyword arguments '{'book_id': '{{ book.id }}'}' not found. 1 pattern(s) tried: ['comment/submit/$']
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
INFO b''
INFO b''
WARNING Not Found: /favicon.ico
WARNING Not Found: /favicon.ico
ERROR Internal Server Error: /comment/5/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 73, in new_comment
    user = Passport.objects.get(id=user_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 334, in get
    self.model._meta.object_name
users.models.DoesNotExist: Passport matching query does not exist.
ERROR Internal Server Error: /comment/5/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 73, in new_comment
    user = Passport.objects.get(id=user_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 334, in get
    self.model._meta.object_name
users.models.DoesNotExist: Passport matching query does not exist.
ERROR Internal Server Error: /comment/5/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 73, in new_comment
    user = Passport.objects.get(id=user_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 334, in get
    self.model._meta.object_name
users.models.DoesNotExist: Passport matching query does not exist.
ERROR Internal Server Error: /comment/5/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 73, in new_comment
    user = Passport.objects.get(id=user_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 334, in get
    self.model._meta.object_name
users.models.DoesNotExist: Passport matching query does not exist.
ERROR Internal Server Error: /comment/5/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 73, in new_comment
    user = Passport.objects.get(id=user_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 334, in get
    self.model._meta.object_name
users.models.DoesNotExist: Passport matching query does not exist.
ERROR Internal Server Error: /comment/5/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 73, in new_comment
    user = Passport.objects.get(id=user_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 334, in get
    self.model._meta.object_name
users.models.DoesNotExist: Passport matching query does not exist.
ERROR Internal Server Error: /comment/5/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 73, in new_comment
    user = Passport.objects.get(id=user_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 334, in get
    self.model._meta.object_name
users.models.DoesNotExist: Passport matching query does not exist.
ERROR Internal Server Error: /comment/5/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 73, in new_comment
    user = Passport.objects.get(id=user_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 334, in get
    self.model._meta.object_name
users.models.DoesNotExist: Passport matching query does not exist.
ERROR Internal Server Error: /comment/7/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 73, in new_comment
    user = Passport.objects.get(id=user_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 334, in get
    self.model._meta.object_name
users.models.DoesNotExist: Passport matching query does not exist.
ERROR Internal Server Error: /comment/7/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 73, in new_comment
    user = Passport.objects.get(id=user_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 334, in get
    self.model._meta.object_name
users.models.DoesNotExist: Passport matching query does not exist.
ERROR Internal Server Error: /comment/7/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 73, in new_comment
    user = Passport.objects.get(id=user_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 334, in get
    self.model._meta.object_name
users.models.DoesNotExist: Passport matching query does not exist.
ERROR Internal Server Error: /comment/7/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 73, in new_comment
    user = Passport.objects.get(id=user_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 334, in get
    self.model._meta.object_name
users.models.DoesNotExist: Passport matching query does not exist.
ERROR Internal Server Error: /comment/7/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 73, in new_comment
    user = Passport.objects.get(id=user_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 334, in get
    self.model._meta.object_name
users.models.DoesNotExist: Passport matching query does not exist.
ERROR Internal Server Error: /comment/7/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 73, in new_comment
    user = Passport.objects.get(id=user_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 334, in get
    self.model._meta.object_name
users.models.DoesNotExist: Passport matching query does not exist.
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
INFO b''
INFO b''
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
pymysql.err.IntegrityError: (1048, "Column 'book_id' cannot be null")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 95, in submit
    rating=int(rating)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 348, in create
    obj.save(force_insert=True, using=self.db)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 710, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 738, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 822, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/base.py", line 861, in _do_insert
    using=using, raw=raw)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 920, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/compiler.py", line 974, in execute_sql
    cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/utils.py", line 97, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 658, in reraise
    raise value.with_traceback(tb)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/backends/mysql/base.py", line 124, in execute
    return self.cursor.execute(query, args)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 166, in execute
    result = self._query(query)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/cursors.py", line 322, in _query
    conn.query(q)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 856, in query
    self._affected_rows = self._read_query_result(unbuffered=unbuffered)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1057, in _read_query_result
    result.read()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1340, in read
    first_packet = self.connection._read_packet()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 1014, in _read_packet
    packet.check_error()
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/connections.py", line 393, in check_error
    err.raise_mysql_exception(self._data)
  File "/home/atguigu/py3/lib/python3.5/site-packages/pymysql/err.py", line 107, in raise_mysql_exception
    raise errorclass(errno, errval)
django.db.utils.IntegrityError: (1048, "Column 'book_id' cannot be null")
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 88, in submit
    book = Books.objects.get_bools_by_id(book_id)
  File "/home/atguigu/bookstore/books/models.py", line 39, in get_bools_by_id
    books = self.get(id=books_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 325, in get
    clone = self.filter(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 679, in filter
    return self._filter_or_exclude(False, *args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 697, in _filter_or_exclude
    clone.query.add_q(Q(*args, **kwargs))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/query.py", line 1304, in add_q
    clause, require_inner = self._add_q(where_part, self.used_aliases)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/query.py", line 1332, in _add_q
    allow_joins=allow_joins, split_subq=split_subq,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/query.py", line 1203, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/query.py", line 1096, in build_lookup
    return final_lookup(lhs, rhs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/lookups.py", line 96, in __init__
    self.rhs = self.get_prep_lookup()
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/lookups.py", line 134, in get_prep_lookup
    return self.lhs.output_field.get_prep_lookup(self.lookup_name, self.rhs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/fields/__init__.py", line 727, in get_prep_lookup
    return self.get_prep_value(value)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/fields/__init__.py", line 985, in get_prep_value
    return int(value)
ValueError: invalid literal for int() with base 10: ''
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 88, in submit
    book = Books.objects.get_bools_by_id(book_id)
  File "/home/atguigu/bookstore/books/models.py", line 39, in get_bools_by_id
    books = self.get(id=books_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 325, in get
    clone = self.filter(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 679, in filter
    return self._filter_or_exclude(False, *args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 697, in _filter_or_exclude
    clone.query.add_q(Q(*args, **kwargs))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/query.py", line 1304, in add_q
    clause, require_inner = self._add_q(where_part, self.used_aliases)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/query.py", line 1332, in _add_q
    allow_joins=allow_joins, split_subq=split_subq,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/query.py", line 1203, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/query.py", line 1096, in build_lookup
    return final_lookup(lhs, rhs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/lookups.py", line 96, in __init__
    self.rhs = self.get_prep_lookup()
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/lookups.py", line 134, in get_prep_lookup
    return self.lhs.output_field.get_prep_lookup(self.lookup_name, self.rhs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/fields/__init__.py", line 727, in get_prep_lookup
    return self.get_prep_value(value)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/fields/__init__.py", line 985, in get_prep_value
    return int(value)
ValueError: invalid literal for int() with base 10: ''
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 88, in submit
    book = Books.objects.get_bools_by_id(book_id)
  File "/home/atguigu/bookstore/books/models.py", line 39, in get_bools_by_id
    books = self.get(id=books_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 325, in get
    clone = self.filter(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 679, in filter
    return self._filter_or_exclude(False, *args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 697, in _filter_or_exclude
    clone.query.add_q(Q(*args, **kwargs))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/query.py", line 1304, in add_q
    clause, require_inner = self._add_q(where_part, self.used_aliases)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/query.py", line 1332, in _add_q
    allow_joins=allow_joins, split_subq=split_subq,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/query.py", line 1203, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/query.py", line 1096, in build_lookup
    return final_lookup(lhs, rhs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/lookups.py", line 96, in __init__
    self.rhs = self.get_prep_lookup()
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/lookups.py", line 134, in get_prep_lookup
    return self.lhs.output_field.get_prep_lookup(self.lookup_name, self.rhs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/fields/__init__.py", line 727, in get_prep_lookup
    return self.get_prep_value(value)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/fields/__init__.py", line 985, in get_prep_value
    return int(value)
ValueError: invalid literal for int() with base 10: ''
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 88, in submit
    book = Books.objects.get_bools_by_id(book_id)
  File "/home/atguigu/bookstore/books/models.py", line 39, in get_bools_by_id
    books = self.get(id=books_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 325, in get
    clone = self.filter(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 679, in filter
    return self._filter_or_exclude(False, *args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 697, in _filter_or_exclude
    clone.query.add_q(Q(*args, **kwargs))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/query.py", line 1304, in add_q
    clause, require_inner = self._add_q(where_part, self.used_aliases)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/query.py", line 1332, in _add_q
    allow_joins=allow_joins, split_subq=split_subq,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/query.py", line 1203, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/query.py", line 1096, in build_lookup
    return final_lookup(lhs, rhs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/lookups.py", line 96, in __init__
    self.rhs = self.get_prep_lookup()
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/lookups.py", line 134, in get_prep_lookup
    return self.lhs.output_field.get_prep_lookup(self.lookup_name, self.rhs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/fields/__init__.py", line 727, in get_prep_lookup
    return self.get_prep_value(value)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/fields/__init__.py", line 985, in get_prep_value
    return int(value)
ValueError: invalid literal for int() with base 10: ''
INFO b''
INFO b''
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 88, in submit
    book = Books.objects.get_bools_by_id(book_id)
  File "/home/atguigu/bookstore/books/models.py", line 39, in get_bools_by_id
    books = self.get(id=books_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 325, in get
    clone = self.filter(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 679, in filter
    return self._filter_or_exclude(False, *args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 697, in _filter_or_exclude
    clone.query.add_q(Q(*args, **kwargs))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/query.py", line 1304, in add_q
    clause, require_inner = self._add_q(where_part, self.used_aliases)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/query.py", line 1332, in _add_q
    allow_joins=allow_joins, split_subq=split_subq,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/query.py", line 1203, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/query.py", line 1096, in build_lookup
    return final_lookup(lhs, rhs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/lookups.py", line 96, in __init__
    self.rhs = self.get_prep_lookup()
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/lookups.py", line 134, in get_prep_lookup
    return self.lhs.output_field.get_prep_lookup(self.lookup_name, self.rhs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/fields/__init__.py", line 727, in get_prep_lookup
    return self.get_prep_value(value)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/fields/__init__.py", line 985, in get_prep_value
    return int(value)
ValueError: invalid literal for int() with base 10: ''
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 88, in submit
    book = Books.objects.get_bools_by_id(book_id)
  File "/home/atguigu/bookstore/books/models.py", line 39, in get_bools_by_id
    books = self.get(id=books_id)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/manager.py", line 127, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 325, in get
    clone = self.filter(*args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 679, in filter
    return self._filter_or_exclude(False, *args, **kwargs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/query.py", line 697, in _filter_or_exclude
    clone.query.add_q(Q(*args, **kwargs))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/query.py", line 1304, in add_q
    clause, require_inner = self._add_q(where_part, self.used_aliases)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/query.py", line 1332, in _add_q
    allow_joins=allow_joins, split_subq=split_subq,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/query.py", line 1203, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/sql/query.py", line 1096, in build_lookup
    return final_lookup(lhs, rhs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/lookups.py", line 96, in __init__
    self.rhs = self.get_prep_lookup()
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/lookups.py", line 134, in get_prep_lookup
    return self.lhs.output_field.get_prep_lookup(self.lookup_name, self.rhs)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/fields/__init__.py", line 727, in get_prep_lookup
    return self.get_prep_value(value)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/db/models/fields/__init__.py", line 985, in get_prep_value
    return int(value)
ValueError: invalid literal for int() with base 10: ''
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 565, in reverse
    extra, resolver = resolver.namespace_dict[ns]
KeyError: 'bookstore.comment'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 501, in render
    current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 575, in reverse
    key)
django.core.urlresolvers.NoReverseMatch: 'bookstore.comment' is not a registered namespace

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 101, in submit
    'content':content,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 99, in render_to_string
    return template.render(context, request)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 74, in render
    return self.template.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 209, in render
    return self._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 135, in render
    return compiled_parent._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 65, in render
    result = block.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 507, in render
    six.reraise(*exc_info)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 659, in reraise
    raise value
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 493, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'comment' with arguments '()' and keyword arguments '{'book_id': ''}' not found. 1 pattern(s) tried: ['comment/(?P<book_id>\\d+)/$']
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 565, in reverse
    extra, resolver = resolver.namespace_dict[ns]
KeyError: 'bookstore.comment'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 501, in render
    current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 575, in reverse
    key)
django.core.urlresolvers.NoReverseMatch: 'bookstore.comment' is not a registered namespace

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 101, in submit
    'content':content,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 99, in render_to_string
    return template.render(context, request)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 74, in render
    return self.template.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 209, in render
    return self._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 135, in render
    return compiled_parent._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 65, in render
    result = block.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 507, in render
    six.reraise(*exc_info)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 659, in reraise
    raise value
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 493, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'comment' with arguments '()' and keyword arguments '{'book_id': ''}' not found. 1 pattern(s) tried: ['comment/(?P<book_id>\\d+)/$']
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 565, in reverse
    extra, resolver = resolver.namespace_dict[ns]
KeyError: 'bookstore.comment'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 501, in render
    current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 575, in reverse
    key)
django.core.urlresolvers.NoReverseMatch: 'bookstore.comment' is not a registered namespace

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 101, in submit
    'content':content,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 99, in render_to_string
    return template.render(context, request)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 74, in render
    return self.template.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 209, in render
    return self._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 135, in render
    return compiled_parent._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 65, in render
    result = block.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 507, in render
    six.reraise(*exc_info)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 659, in reraise
    raise value
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 493, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'comment' with arguments '()' and keyword arguments '{'book_id': ''}' not found. 1 pattern(s) tried: ['comment/(?P<book_id>\\d+)/$']
ERROR Internal Server Error: /comment/submit/
Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 565, in reverse
    extra, resolver = resolver.namespace_dict[ns]
KeyError: 'bookstore.comment'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 501, in render
    current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 575, in reverse
    key)
django.core.urlresolvers.NoReverseMatch: 'bookstore.comment' is not a registered namespace

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/handlers/base.py", line 132, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/atguigu/bookstore/comments/views.py", line 101, in submit
    'content':content,
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader.py", line 99, in render_to_string
    return template.render(context, request)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/backends/django.py", line 74, in render
    return self.template.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 209, in render
    return self._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 135, in render
    return compiled_parent._render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 201, in _render
    return self.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/loader_tags.py", line 65, in render
    result = block.nodelist.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/base.py", line 903, in render
    bit = self.render_node(node, context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/debug.py", line 79, in render_node
    return node.render(context)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 507, in render
    six.reraise(*exc_info)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/utils/six.py", line 659, in reraise
    raise value
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/template/defaulttags.py", line 493, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 579, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/home/atguigu/py3/lib/python3.5/site-packages/django/core/urlresolvers.py", line 496, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
django.core.urlresolvers.NoReverseMatch: Reverse for 'comment' with arguments '()' and keyword arguments '{'book_id': ''}' not found. 1 pattern(s) tried: ['comment/(?P<book_id>\\d+)/$']
